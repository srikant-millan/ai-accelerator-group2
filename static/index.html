<!DOCTYPE html>
<html>
<head>
    <title>ðŸš¨ DevOps Incident Analyzer</title>
    <style>
        body { font-family: Arial; text-align: center; padding: 50px; background: linear-gradient(#112, #223); color: white; min-height: 100vh; }
        h1 { font-size: 3em; }
        input, button { padding: 20px; margin: 20px; font-size: 20px; border-radius: 10px; }
        button { background: #00ff9d; border: none; cursor: pointer; box-shadow: 0 5px 20px rgba(0,255,157,0.4); }
        button:hover { background: #00cc7a; }
    </style>
</head>
<body>
    <h1>Multi-Agent DevOps Incident Suite</h1>
    <p>Upload chaotic log â†’ 10-sec AI magic â†’ Slack + Jira + PDF</p>
    <input type="file" id="file" accept=".log,.txt" style="padding: 15px;" />
    <button onclick="upload()">ðŸš€ ANALYZE NOW</button>
    <p id="status" style="font-size: 1.5em; margin-top: 30px;"></p>

    <script>
    async function upload() {
        let file = document.getElementById('file').files[0];
        if (!file) return alert("Please select a log file!");
        document.getElementById('status').innerText = "ðŸ”„ Analyzing... (8 seconds)";
        
        let form = new FormData();
        form.append('file', file);
        
        let res = await fetch('/analyze', {method: 'POST', body: form});
        let blob = await res.blob();
        let url = URL.createObjectURL(blob);
        let a = document.createElement('a');
        a.href = url; a.download = 'incident-report.pdf'; a.click();
        
        document.getElementById('status').innerHTML = "âœ… DONE! PDF downloaded.<br>Check your Slack & Jira!";
    }
    </script>
</body>
</html>